{% comment %}
  Craftons Curves Calculator Custom Section
  Embeds the calculator directly into product pages
{% endcomment %}

<div class="curves-calculator-section" style="margin: {{ section.settings.margin_top }}px 0 {{ section.settings.margin_bottom }}px;">
  <div style="position: relative; width: 100%; height: {{ section.settings.height }}px; border: {{ section.settings.border_width }}px solid {{ section.settings.border_color }}; border-radius: {{ section.settings.border_radius }}px; overflow: hidden; background: #f9f9f9;">
    <iframe 
      src="https://craftons-curves-calculator.vercel.app"
      style="width: 100%; height: 100%; border: none; display: block;"
      frameborder="0"
      allowfullscreen
      loading="lazy"
      title="Craftons Curves Calculator">
    </iframe>
  </div>
</div>

<style>
  @media (max-width: 768px) {
    .curves-calculator-section iframe {
      height: {{ section.settings.mobile_height }}px !important;
    }
  }
</style>

{% schema %}
{
  "name": "Curves Calculator",
  "settings": [
    {
      "type": "header",
      "content": "Calculator Size"
    },
    {
      "type": "range",
      "id": "height",
      "label": "Desktop height (px)",
      "min": 400,
      "max": 1200,
      "step": 50,
      "default": 800
    },
    {
      "type": "range",
      "id": "mobile_height",
      "label": "Mobile height (px)",
      "min": 300,
      "max": 800,
      "step": 50,
      "default": 600
    },
    {
      "type": "header",
      "content": "Styling"
    },
    {
      "type": "range",
      "id": "border_width",
      "label": "Border width (px)",
      "min": 0,
      "max": 5,
      "step": 1,
      "default": 1
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border color",
      "default": "#e0e0e0"
    },
    {
      "type": "range",
      "id": "border_radius",
      "label": "Border radius (px)",
      "min": 0,
      "max": 20,
      "step": 2,
      "default": 8
    },
    {
      "type": "range",
      "id": "margin_top",
      "label": "Top margin (px)",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 20
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "label": "Bottom margin (px)",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 20
    }
  ],
  "presets": [
    {
      "name": "Curves Calculator",
      "settings": {
        "height": 800,
        "mobile_height": 600
      }
    }
  ]
}
{% endschema %} 